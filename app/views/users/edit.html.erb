<% provide(:title, "Academic Info") %>
<% flash.each do |message_type, message| %>
  <%= content_tag(:div, message, class: "alert alert-#{message_type} container") %>
<% end %>
<h1 class="center">Academic Information</h1>
<br>
<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_for @user, :html => {:id => "credits-form"}, remote: true do |f| %>
      <%= render 'shared/error_messages' %>

      <%= f.label :credits, "University Credits", :style => "padding-bottom: 10px;" %>
      <%= f.number_field :credits, class: 'search-inputs' %>
      <%= f.submit "Submit", :style => "display:none;" %>
    <% end %>
    <label style="padding-bottom: 10px;">Degrees</label>
      <%= render 'users/edit/degree_multiselect' %>
    <br>
    <label>Course History</label>
    <div id="course_history"><%= render 'users/edit/course_history' %></div>
    <%= form_tag(edit_path, method: :get, :id => "history", remote: true) do %>
      <%= hidden_field_tag :id, current_user.id %>
      <%= text_field_tag :history_code, params[:history_code], placeholder: "Code", :class => "search-inputs" %>
      <%= submit_tag "Search", :id => 'code-search', :class => 'btn btn-info', :style => "display: none;" %>
    <% end %>
    <div id="history_results"><%= render 'users/edit/history_results' %></div>
  </div>
</div>

<script>
$(function() {
  $("#history").keyup(function() {
    $.get(this.action, $(this).serialize(), null, "script");
  });
});
</script>

<script type="text/javascript">
    $(function () {
        $('#degrees').multiselect({
            includeSelectAllOption: true
        });
    });
</script>
